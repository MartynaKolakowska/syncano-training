{"version":3,"sources":["../../src/commands/backups-delete.js"],"names":["BackupsDelete","constructor","context","session","Backups","connection","backups","run","option","spinner","SimpleSpinner","start","deleteAll","stop","succeed","delete","err","message","process","exit"],"mappings":";;;;;;AAAA;;AACA;;;;AAEA,MAAMA,aAAN,CAAoB;AAClBC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,OAAL,GAAeF,QAAQC,OAAR,CAAgBE,UAAhB,CAA2BC,OAA1C;AACD;;AAEKC,KAAN,CAAW,CAACC,MAAD,CAAX,EAAqB;AAAA;;AAAA;AACnB,UAAI;AACF,YAAIA,WAAW,KAAf,EAAsB;AACpB,gBAAMC,UAAU,IAAIC,sBAAJ,CAAkB,mBAAE,CAAF,EAAK,qBAAL,CAAlB,EAA+CC,KAA/C,EAAhB;AACA,gBAAM,MAAKP,OAAL,CAAaQ,SAAb,EAAN;AACAH,kBAAQI,IAAR;AACAJ,kBAAQK,OAAR,CAAgB,mBAAE,CAAF,EAAM,sBAAN,CAAhB;AACA;AACD,SAND,MAMO;AACL,gBAAM,MAAKV,OAAL,CAAaW,MAAb,CAAoBP,MAApB,CAAN;AACA,gCAAK,CAAL,EAAS,iBAAT;AACA;AACD;AACF,OAZD,CAYE,OAAOQ,GAAP,EAAY;AACZ;AACA,+BAAMA,IAAIC,OAAV;AACAC,gBAAQC,IAAR,CAAa,CAAb;AACD;AAjBkB;AAkBpB;AAxBiB;;kBA2BLnB,a","file":"backups-delete.js","sourcesContent":["import { SimpleSpinner } from './helpers/spinner'\nimport { p, echo, error } from '../utils/print-tools'\n\nclass BackupsDelete {\n  constructor (context) {\n    this.session = context.session\n    this.Backups = context.session.connection.backups\n  }\n\n  async run ([option]) {\n    try {\n      if (option === 'all') {\n        const spinner = new SimpleSpinner(p(2)('Deleting Backups...')).start()\n        await this.Backups.deleteAll()\n        spinner.stop()\n        spinner.succeed(p(2)(`All backups deleted.`))\n        echo()\n      } else {\n        await this.Backups.delete(option)\n        echo(4)(`Backup deleted.`)\n        echo()\n      }\n    } catch (err) {\n      echo()\n      error(err.message)\n      process.exit(1)\n    }\n  }\n}\n\nexport default BackupsDelete\n"]}