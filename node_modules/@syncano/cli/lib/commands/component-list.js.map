{"version":3,"sources":["../../src/commands/component-list.js"],"names":["info","debug","ComponentList","constructor","context","session","Socket","Component","run","projetPath","cmd","sockets","listLocal","forEach","socket","components","getLocal","getComponents","printComponent","component","metadata","format","cyan","bold","packageName","dim","socketName","parameters","Object","keys","paramObj","paramName","description","example"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,MAAM,EAAEA,IAAF,EAAQC,KAAR,KAAkB,qBAAO,oBAAP,CAAxB;;AAEe,MAAMC,aAAN,CAAoB;AACjCC,cAAaC,OAAb,EAAsB;AACpB,SAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,SAAKC,MAAL,GAAcF,QAAQE,MAAtB;AACA,SAAKC,SAAL,GAAiBH,QAAQG,SAAzB;AACD;;AAEKC,KAAN,CAAW,CAACC,UAAD,EAAaC,GAAb,CAAX,EAA8B;AAAA;;AAAA;AAC5BV,WAAK,mBAAL;;AAEA,YAAMW,UAAU,MAAM,MAAKL,MAAL,CAAYM,SAAZ,EAAtB;AACAD,cAAQE,OAAR;AAAA,qCAAgB,WAAMC,MAAN,EAAgB;AAC9B,gBAAMC,aAAa,MAAM,MAAKT,MAAL,CAAYU,QAAZ,CAAqBF,MAArB,EAA6BG,aAA7B,EAAzB;AACAF,qBAAWF,OAAX,CAAmB,qBAAa;AAC9B,kBAAKK,cAAL,CAAoBC,SAApB;AACD,WAFD;AAGD,SALD;;AAAA;AAAA;AAAA;AAAA;AAJ4B;AAU7B;;AAEKD,gBAAN,CAAsBC,SAAtB,EAAiC;AAAA;AAC/BlB,YAAM,gBAAN;AACA,YAAMmB,WAAWD,UAAUC,QAA3B;;AAEA,4BAAK,CAAL,EAAS,GAAEC,gBAAOC,IAAP,CAAYC,IAAZ,CAAiB,MAAjB,CAAyB,KAAIF,gBAAOC,IAAP,CAAYC,IAAZ,CAAiBJ,UAAUK,WAA3B,CAAwC,EAAhF;AACA,4BAAK,CAAL,EAAS,GAAEH,gBAAOI,GAAP,CAAW,QAAX,CAAqB,KAAIN,UAAUO,UAAW,EAAzD;;AAEA,UAAIN,SAASO,UAAb,EAAyB;AACvB;AACAC,eAAOC,IAAP,CAAYT,SAASO,UAArB,EAAiCd,OAAjC,CAAyC,qBAAa;AACpD,gBAAMiB,WAAWV,SAASO,UAAT,CAAoBI,SAApB,CAAjB;AACA,gCAAK,CAAL,EAAS,GAAEV,gBAAOI,GAAP,CAAW,MAAX,CAAmB,KAAIJ,gBAAOC,IAAP,CAAYS,SAAZ,KAA0B,EAAG,EAA/D;AACA,gCAAK,CAAL,EAAS,GAAEV,gBAAOI,GAAP,CAAW,aAAX,CAA0B,KAAIK,SAASE,WAAY,EAA9D;AACA,gCAAK,CAAL,EAAS,GAAEX,gBAAOI,GAAP,CAAW,SAAX,CAAsB,KAAIK,SAASG,OAAQ,EAAtD;AACA;AACD,SAND;AAOD;AACD;AAjB+B;AAkBhC;AArCgC;kBAAd/B,a","file":"component-list.js","sourcesContent":["import format from 'chalk'\nimport logger from '../utils/debug'\nimport { echo } from '../utils/print-tools'\n\nconst { info, debug } = logger('cmd-component-list')\n\nexport default class ComponentList {\n  constructor (context) {\n    this.session = context.session\n    this.Socket = context.Socket\n    this.Component = context.Component\n  }\n\n  async run ([projetPath, cmd]) {\n    info('ComponentLink.run')\n\n    const sockets = await this.Socket.listLocal()\n    sockets.forEach(async socket => {\n      const components = await this.Socket.getLocal(socket).getComponents()\n      components.forEach(component => {\n        this.printComponent(component)\n      })\n    })\n  }\n\n  async printComponent (component) {\n    debug('printComponent')\n    const metadata = component.metadata\n\n    echo(4)(`${format.cyan.bold('name')}: ${format.cyan.bold(component.packageName)}`)\n    echo(4)(`${format.dim('socket')}: ${component.socketName}`)\n\n    if (metadata.parameters) {\n      echo()\n      Object.keys(metadata.parameters).forEach(paramName => {\n        const paramObj = metadata.parameters[paramName]\n        echo(8)(`${format.dim('name')}: ${format.cyan(paramName) || ''}`)\n        echo(8)(`${format.dim('description')}: ${paramObj.description}`)\n        echo(8)(`${format.dim('example')}: ${paramObj.example}`)\n        echo()\n      })\n    }\n    echo()\n  }\n}\n"]}