{"version":3,"sources":["../src/cli-hosting.js"],"names":["setup","context","session","load","program","command","group","description","option","action","options","isAuthenticated","hasProject","commands","HostingAdd","run","checkConnection","HostingDelete","HostingList","HostingFilesCmd","HostingSync","HostingConfig","on","commandsArr","process","argv","slice","length","outputHelp","parse"],"mappings":"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","file":"cli-hosting.js","sourcesContent":["\nimport program from './program'\nimport commands from './commands'\nimport session from './utils/session'\nimport context from './utils/context'\nimport validateCommands from './utils/validate-commands'\nimport { echo } from './utils/print-tools'\n\nconst setup = async () => {\n  await context.session.load()\n\n  program\n    .command('add <path>')\n    .group('Hosting')\n    .description('Create a new hosting')\n    .option('-n, --hosting-name <name>', 'Name of the hosting')\n\n    .option('--browser-router-on', 'Turn on browser router for a hosting')\n    .option('--browser-router-off', 'Turn off browser router for a hosting')\n\n    .option('--dont-sync', 'Do not sync files after adding hosting')\n    .option('--sync', 'Sync files after adding hosting')\n\n    .option('--without-cname', 'No CNAME')\n    .option('-c, --cname <cname>', 'CNAME')\n\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      echo()\n      new commands.HostingAdd(context).run(options)\n    })\n\n  program\n    .command('delete <name>')\n    .group('Hosting')\n    .description('Delete a hosting')\n    .option('-h, --help <topic>', 'Hosting name')\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      await session.checkConnection()\n      echo()\n      new commands.HostingDelete(context).run(options)\n    })\n\n  program\n    .command('list')\n    .group('Hosting')\n    .description('List hostings')\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      await session.checkConnection()\n      new commands.HostingList(context).run(options)\n    })\n\n  program\n    .command('files <name>')\n    .group('Hosting')\n    .description('List hosting files')\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      await session.checkConnection()\n      echo()\n      new commands.HostingFilesCmd(context).run(options)\n    })\n\n  program\n    .command('sync <name>')\n    .group('Hosting')\n    .description('Publish your local hosting files')\n    .option('-d, --no-delete', 'Update and add files only (do not delete files)')\n    .option('-s, --socket <name>', 'socket')\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      await session.checkConnection()\n      echo()\n      new commands.HostingSync(context).run(options)\n    })\n\n  program\n    .command('config <name>')\n    .group('Hosting')\n    .description('Configure hosting parameters')\n    .option('-c, --cname <domain_name>', 'add CNAME to hosting')\n    .option('-d, --remove-cname <domain_name>', 'remove CNAME from hosting')\n    .option('-b, --browser-router <true|false>', 'turn on/off the BrowserRouter support')\n    .action(async (...options) => {\n      session.isAuthenticated()\n      session.hasProject()\n      await session.checkConnection()\n      echo()\n      new commands.HostingConfig(context).run(options)\n    })\n\n  program\n    .on('*', (commandsArr) => validateCommands(commandsArr))\n\n  if (!process.argv.slice(2).length) {\n    program.outputHelp()\n  }\n\n  program.parse(process.argv)\n}\n\nsetup()\n"]}